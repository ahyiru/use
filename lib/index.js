import{useCallback as m,useEffect as f,useLayoutEffect as H,useMemo as q,useRef as h,useState as E}from"react";var Y={85:((e,t,s)=>{e.exports=s(197)}),197:((e,t)=>{var s;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function o(u,i,c){var a=null;if(c!==void 0&&(a=""+c),i.key!==void 0&&(a=""+i.key),"key"in i){c={};for(var l in i)l!=="key"&&(c[l]=i[l])}else c=i;return i=c.ref,{$$typeof:r,type:u,key:a,ref:i!==void 0?i:null,props:c}}s=n,t.jsx=o,s=o})},M={};function b(e){var t=M[e];if(t!==void 0)return t.exports;var s=M[e]={exports:{}};return Y[e](s,s.exports,b),s.exports}b.d=(e,t)=>{for(var s in t)b.o(t,s)&&!b.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},b.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Bt={};const K=e=>(t,s)=>{const[r,n]=E(()=>{const c=e?.getState(t);return c!==void 0?c:(s!==void 0&&e?.setState({[t]:s},!0),s)}),o=m(c=>e?.setState({[t]:typeof c=="function"?c(e?.getState(t)):c}),[]),u=m(c=>e?.subscribe(t,c),[]),i=m((c=c)=>e?.clean(c),[]);return f(()=>{e?.subscribe(t,c=>n(c))},[]),[r,o,u,i]},k=K,G=e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase(),S=G,J=e=>S(e)==="object",w=J,Z=e=>S(e)==="function",Q=Z,ee=e=>S(e)==="promise"||w(e)&&Q(e.then),te=ee,se=(e,t=12e4,s="\u8BF7\u6C42\u8D85\u65F6\uFF01")=>{if(!te(e))return{};let r=null,n=null;return{promiseFn:new Promise((u,i)=>{r=(c="canceled")=>{clearTimeout(n),u({canceled:!0,errMsg:c})},t&&(t=typeof t!="number"?12e4:t,n=setTimeout(()=>r(s),t)),e.then(c=>{clearTimeout(n),u({result:c,errMsg:!1})}).catch(c=>{clearTimeout(n),i(c)})}),cancelFn:r}},ne=se,re=()=>{const e=h([]);return f(()=>()=>{e.current.map(t=>t.cancelFn()),e.current=[]},[]),m((t,s=!0)=>{const r=ne(t,s);return e.current.indexOf(r)===-1&&e.current.push(r),r.promiseFn},[])},U=re,oe=(e={})=>{const t=U(),[s,r]=E(e),n=h({}),o=h({}),u=m((c=null)=>{Array.isArray(c)&&c.length?c.map(a=>n.current[a]=e[a]):n.current=e},[]),i=m((c,a,l=!1)=>{const p=Object.keys(c),_=JSON.stringify(p.sort());if(!o.current[_]){o.current[_]=!0,l&&u(Array.isArray(l)?l:p),p.map(d=>{n.current[d]||(n.current[d]={}),n.current[d].pending=!0}),r({...n.current});for(let d=0,y=p.length;d<y;d++){const g=p[d];t(c[g]).then(v=>{let{result:A,errMsg:X}=v;d===y-1&&(o.current[_]=!1),typeof a=="function"&&(A=a(A)||A),n.current[g]={...A,pending:!1},X===!1&&r({...n.current})}).catch(v=>{throw d===y-1&&(o.current[_]=!1),n.current[g]={error:v,pending:!1},r({...n.current}),v})}}},[]);return[s,i,u]},ce=oe,ue=e=>/^https?:\/\/[^\s/?.#]+\.[^\s]+/.test(e),ie=ue,ae=e=>new Promise((t,s)=>{const r=new FileReader;r.readAsDataURL(e),r.addEventListener("load",()=>t(r.result)),r.addEventListener("error",n=>s(n))}),le=ae,fe=async e=>{if(!ie(e))return e;const s=await(await fetch(decodeURIComponent(e))).blob();return await le(s)},de=fe,_e=e=>{const[t,s]=E(e);return f(()=>{(async n=>{const o=await de(n);s(o)})(e)},[e]),t},pe=_e,me=(e,t)=>Object.prototype.hasOwnProperty.call(e??{},t),L=me,he=e=>{const t=typeof e=="function"?e():e;return L(t,"current")},T=he,Ee=(e,t,s="click")=>{f(()=>{const r=o=>{const u=typeof e=="function"?e():e,i=T(u)?u.current:u;i?.contains&&!i.contains(o.target)&&t(o)},n=typeof s=="string"?[s]:s;return n.map(o=>{document.addEventListener(o,r,!1)}),()=>{n.map(o=>{document.removeEventListener(o,r,!1)})}},[e])},we=Ee,ye=(e=()=>{},t=60)=>{let s=null;return function(...r){clearTimeout(s),s=setTimeout(()=>e.apply(this,r),t)}},z=ye,ge=(e,t=60)=>q(()=>z(e,t),[t]),be=ge,Se=(e,t=[])=>{const s=h(!1);f(()=>{if(!s.current)s.current=!0;else return e()},t)},j=Se,Oe=(e,t=450)=>{const[s,r]=E(e);return j(()=>{let n;return e||t===0?r(e):n=setTimeout(()=>r(e),t),()=>n&&clearTimeout(n)},[e]),[s,r]},ve=Oe,Ae=()=>![typeof window,typeof document].includes("undefined"),R=Ae,Fe=e=>S(e).indexOf("element")>-1,C=Fe,Pe=(e=null)=>R()?C(e)?{width:e.clientWidth,height:e.clientHeight}:{width:window.innerWidth??document.documentElement.clientWidth,height:window.innerHeight??document.documentElement.clientHeight}:{width:0,height:0},D=Pe,Le=(e,t)=>{const s=[],r=e.children??[];for(let n=0,o=r.length;n<o;n++){const u=r[n];u.className.indexOf(t)>-1&&s.push(u)}return s.length===0?null:s.length===1?s[0]:s},W=Le,Te=(e,t)=>{getComputedStyle(e).position==="static"&&(e.style.position="relative");const s=document.createElement("object");return s.setAttribute("style","display:block;position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;opacity:0"),s.setAttribute("class","resize-sensor"),s.onload=()=>{s.contentDocument.defaultView.addEventListener("resize",t,!1),t()},s.type="text/html",e.appendChild(s),s.data="about:blank",s},Re=(e,t=60)=>{if(!R())return;e=T(e)?e.current:e??document.body;let s=W(e,"resize-sensor"),r=[];const n=z(()=>r.map(c=>c(e)),t),o=c=>{W(e,"resize-sensor")||(s=Te(e,n)),r.indexOf(c)===-1&&r.push(c)},u=c=>{const a=r.indexOf(c);a!==-1&&r.splice(a,1),r.length===0&&s&&i()},i=()=>{s&&s.parentNode&&(s.contentDocument&&s.contentDocument.defaultView.removeEventListener("resize",n,!1),s.parentNode.removeChild(s),s=void 0,r=[])};return{element:e,bind:o,unbind:u,destroy:i}},Ce=Re,De=(e={})=>{const t=h(0),[s,r]=E(e),n=m(o=>{cancelAnimationFrame(t.current),t.current=requestAnimationFrame(()=>r(o))},[]);return f(()=>()=>cancelAnimationFrame(t.current),[]),[s,n]},F=De,xe=(e=null,t=60)=>{const[s,r]=F({});return f(()=>{const n=typeof e=="function"?e():e,o=T(n)?n.current:n,{bind:u,destroy:i}=Ce(o,t);return u(()=>o&&r(D(o))),()=>i()},[]),s},Be=xe,Me=e=>{const t=h(null);return H(()=>{t.current=e}),m((...s)=>t.current?.(...s),[])},ke=Me,Ue=()=>{const e=h(!0);return e.current?(e.current=!1,!0):!1},ze=Ue,je=(e,t)=>{const s=h();f(()=>{s.current=e},[e]),f(()=>{if(t){const r=setInterval(()=>s.current(),t);return()=>clearInterval(r)}},[t])},N=je,We=e=>{const t=h();return f(()=>{t.current=e},[e]),t},Ne=We,Ve=(e=null)=>R()?C(e)?{left:e.scrollLeft,top:e.scrollTop}:{left:window.pageXOffset??document.documentElement.scrollLeft??document.body.scrollLeft,top:window.pageYOffset??document.documentElement.scrollTop??document.body.scrollTop}:{left:0,top:0},V=Ve,$e=(e=null)=>{const[t,s]=F(V(e));return f(()=>{const r=()=>s(V(e)),n=C(e)?e:window;return n.addEventListener("scroll",r,{capture:!1,passive:!0}),()=>n.removeEventListener("scroll",r)},[e]),t},Ie=$e,Xe=e=>S(e)==="array",x=Xe,He=e=>x(e)&&!!e.length,B=He,qe=(e,t,s=[],r=!1,n=null)=>B(e)?t?(s=typeof s=="string"?s.split(","):s,e.filter(o=>(s=s.length>0?s:Object.keys(o),s.filter(i=>{const c=o[i];if(c==null)return!1;if(r)return c===t;const a=new RegExp(t,"gi"),l=c.toString().match(a);return l&&n&&(o[i]=n(c.toString().replace(a,`<span style="background-color:yellow">${l[0]}</span>`),{display:"inline-block"})),l}).length))):e:[],Ye=qe,Ke=(e,t="id")=>{if(!B(e))return e;const s=[],r=[];return e.map(n=>{const o=w(n)?n[t]:n;r.includes(o)||(r.push(o),s.push(n))}),s},Ge=Ke,Je=e=>e?.$$typeof&&typeof e.$$typeof=="symbol"&&e.$$typeof.description?.indexOf("react.")===0,Ze=Je,Qe=e=>e?.__v_isVNode,et=Qe,$=e=>{if(!x(e)&&!w(e))return e;const t=x(e)?[]:{};for(const s in e)if(L(e,s)){const r=e[s];t[s]=Ze(r)||et(r)||typeof r!="object"?r:r!==e?$(r):"cyclic"}else Object.setPrototypeOf(t,{[s]:e[s]});return t},P=$,tt=e=>(t,s="children")=>{if(!Array.isArray(t))return t;const r=P(t),n=o=>{const u=[];return o.map(i=>{if(B(i[s])){const c=n(i[s])||[];i[s]=c,c.length>0&&u.push(i)}}),e(o,u)};return n(r)},st=(e,t,s="name",r=!1,n="id",o="children",u)=>tt((i,c)=>Ge([...Ye(i,t,s,r,u),...c],n))(e,o),nt=st;var rt=b(85);const ot=(e,t)=>(0,rt.jsx)("div",{dangerouslySetInnerHTML:{__html:e},...t}),ct=ot,ut=(e=null,t=ct)=>{const[s,r]=E(e),n=m((...o)=>{const[u,i,c,a,l,p]=o;if(!i)r(null);else{o=[u,i,c,a,l,p,t];const _=nt(...o);r(_)}},[]);return[s,n]},it=ut,at=e=>{const[t,s]=E(e);return f(()=>s(e),[e]),[t,s]},lt=at,ft=()=>{const e={};return{on:(n,o)=>{e[n]||(e[n]=[]),e[n].indexOf(o)===-1&&e[n].push(o)},emit:(n,o)=>{e[n]&&e[n].map(u=>u(o))},off:(n,o=null)=>{if(e[n]){if(typeof o!="function")return delete e[n];const u=e[n].indexOf(o);u>-1&&(e[n].splice(u,1),e[n].length||delete e[n])}}}},dt=ft,I=e=>{const t={};for(let s in e)L(e,s)||(t[s]=e[s]);return t},_t=(e,t)=>{if(!w(e))return t;if(!w(t))return e;const s={...I(e),...I(t)},r={...e,...t};return Object.keys(s).map(n=>{Object.setPrototypeOf(r,{[n]:s[n]})}),r},pt=_t,mt=(e=dt())=>{const{on:t,emit:s,off:r}=e,n={};return{getState:a=>P(n[a]),setState:(a,l=!1)=>{if(typeof a=="function"&&(a=a(P(n))),!w(a))throw TypeError("\u5FC5\u987B\u4F20\u5165object\u5BF9\u8C61\uFF01");const p=P(a);Object.keys(p).map(_=>{const d=n[_],y=p[_],g=w(y)&&w(d)?pt(d,y):y;!l&&s(_,g),n[_]=g})},subscribe:(a,l)=>(t(a,l),()=>r(a,l)),unsubscribe:r,clean:a=>{typeof a=="string"?n[a]=void 0:Array.isArray(a)?a.map(l=>n[l]=void 0):Object.keys(n).map(l=>n[l]=void 0)}}},ht=mt,Et=ht(),wt=k(Et),yt=wt,O=e=>e<10?"0"+e:e,gt=(e=new Date)=>{const t=new Date(e),s=t.getFullYear(),r=t.getDay(),n=O(t.getMonth()+1),o=O(t.getDate()),u=O(t.getHours()),i=O(t.getMinutes()),c=O(t.getSeconds());return[s,n,o,u,i,c,r]},bt=gt,St=["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],Mt=(e,t,s="-")=>e.replace(new RegExp(s,"g"),t),Ot=(e=new Date,t=["-","-"," ",":",":",""],s=St)=>{const r=bt(e);let n="";return t.map((o,u)=>n+=(u===6?s[r[u]]:r[u]??"")+o),n},vt=Ot,At=()=>vt(new Date,["-","-"," ",":",":"," ",""]),Ft=()=>{const[e,t]=E("");return N(()=>{t(At())},1e3),[e]},Pt=Ft,Lt=e=>++e,Tt=()=>{const[,e]=E(0);return m(()=>e(Lt),[])},Rt=Tt,Ct=()=>{const[e,t]=F(D());return f(()=>{const s=()=>t(D());return window.addEventListener("resize",s,!1),()=>window.removeEventListener("resize",s,!1)},[]),e},Dt=Ct;export{k as createContainer,ce as useAsync,pe as useBase64,U as useCancelablePromise,we as useClickAway,be as useDebounce,ve as useDelayState,Be as useEleResize,ke as useEvent,ze as useFirstMounted,N as useInterval,Ne as usePrevious,F as useRaf,Ie as useScroll,it as useSearch,lt as useStateFromProps,yt as useStore,Pt as useTime,Rt as useUpdate,j as useUpdateEffect,Dt as useWinResize};
