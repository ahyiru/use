import*as g from"react";var Ue={197:(p,m)=>{var o;var V=Symbol.for("react.transitional.element"),C=Symbol.for("react.fragment");function L(S,h,_){var F=null;if(_!==void 0&&(F=""+_),h.key!==void 0&&(F=""+h.key),"key"in h){_={};for(var k in h)k!=="key"&&(_[k]=h[k])}else _=h;return h=_.ref,{$$typeof:V,type:S,key:F,ref:h!==void 0?h:null,props:_}}o=C,m.jsx=L,o=L},85:(p,m,o)=>{p.exports=o(197)}},G={};function y(p){var m=G[p];if(m!==void 0)return m.exports;var o=G[p]={exports:{}};return Ue[p](o,o.exports,y),o.exports}y.d=(p,m)=>{for(var o in m)y.o(m,o)&&!y.o(p,o)&&Object.defineProperty(p,o,{enumerable:!0,get:m[o]})},y.o=(p,m)=>Object.prototype.hasOwnProperty.call(p,m);var f={};(()=>{y.d(f,{g$:()=>C,Yb:()=>ee,BT:()=>re,hV:()=>W,W3:()=>ce,d7:()=>oe,Cy:()=>ue,OC:()=>le,_q:()=>fe,_$:()=>I,$$:()=>H,ZC:()=>_e,p8:()=>R,Ll:()=>pe,SQ:()=>ve,ls:()=>ge,Pj:()=>Fe,z5:()=>Te,xS:()=>De,w5:()=>N,qx:()=>ze});var p=e=>{var s={};return y.d(s,e),s},m=e=>()=>e;const o=p({useCallback:()=>g.useCallback,useEffect:()=>g.useEffect,useLayoutEffect:()=>g.useLayoutEffect,useMemo:()=>g.useMemo,useRef:()=>g.useRef,useState:()=>g.useState}),C=e=>(s,t)=>{const[r,n]=(0,o.useState)(()=>{const c=e?.getState(s);return c!==void 0?c:(t!==void 0&&e?.setState({[s]:t},!0),t)}),u=(0,o.useCallback)(c=>e?.setState({[s]:typeof c=="function"?c(e?.getState(s)):c}),[]),i=(0,o.useCallback)(c=>e?.subscribe(s,c),[]),a=(0,o.useCallback)((c=c)=>e?.clean(c),[]);return(0,o.useEffect)(()=>{e?.subscribe(s,c=>n(c))},[]),[r,u,i,a]},S=e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase(),_=e=>S(e)==="object",k=e=>S(e)==="function",J=e=>S(e)==="promise"||_(e)&&k(e.then),K=(e,s=3e5,t="\u8BF7\u6C42\u8D85\u65F6\uFF01")=>{if(!J(e))return{};let r=null,n=null;return{promiseFn:new Promise((i,a)=>{r=(c="canceled")=>{clearTimeout(n),i({canceled:!0,errMsg:c})},s&&(s=typeof s!="number"?12e4:s,n=setTimeout(()=>r(t),s)),e.then(c=>{clearTimeout(n),i({result:c,errMsg:!1})}).catch(c=>{clearTimeout(n),a(c)})}),cancelFn:r}},W=()=>{const e=(0,o.useRef)([]);return(0,o.useEffect)(()=>()=>{e.current.map(t=>t.cancelFn()),e.current=[]},[]),{cancelablePromise:(0,o.useCallback)((t,r=!0)=>{const n=K(t,r);return e.current.indexOf(n)===-1&&e.current.push(n),n.promiseFn},[])}},ee=(e={})=>{const{cancelablePromise:s}=W(),[t,r]=(0,o.useState)(e),n=(0,o.useRef)({}),u=(0,o.useRef)({}),i=(0,o.useCallback)((c=null)=>{Array.isArray(c)&&c.length?c.map(l=>n.current[l]=e[l]):n.current=e},[]),a=(0,o.useCallback)((c,l,b=!1)=>{const w=Object.keys(c),E=JSON.stringify(w.sort());if(!u.current[E]){u.current[E]=!0,b&&i(Array.isArray(b)?b:w),w.map(d=>{n.current[d]||(n.current[d]={}),n.current[d].pending=!0}),r({...n.current});for(let d=0,v=w.length;d<v;d++){const $=w[d];s(c[$]).then(A=>{let{result:T,errMsg:Be}=A;d===v-1&&(u.current[E]=!1),typeof l=="function"&&(T=l(T)||T),n.current[$]={...T,pending:!1},Be===!1&&r({...n.current})}).catch(A=>{throw d===v-1&&(u.current[E]=!1),n.current[$]={error:A,pending:!1},r({...n.current}),A})}}},[]);return[t,a,i]},te=e=>/^https?:\/\/[^\s/?.#]+\.[^\s]+/.test(e),se=e=>new Promise((s,t)=>{const r=new FileReader;r.readAsDataURL(e),r.addEventListener("load",()=>s(r.result)),r.addEventListener("error",n=>t(n))}),ne=async e=>{if(!te(e))return e;const t=await(await fetch(decodeURIComponent(e))).blob();return await se(t)},re=e=>{const[s,t]=(0,o.useState)(e);return(0,o.useEffect)(()=>{(async n=>{const u=await ne(n);t(u)})(e)},[e]),s},D=(e,s)=>Object.prototype.hasOwnProperty.call(e??{},s),z=e=>D(e,"current"),ce=(e,s,t="click")=>{(0,o.useEffect)(()=>{const r=u=>{const i=z(e)?e.current:e;i?.contains&&!i.contains(u.target)&&s(u)},n=typeof t=="string"?[t]:t;return n.map(u=>{document.addEventListener(u,r,!1)}),()=>{n.map(u=>{document.removeEventListener(u,r,!1)})}},[e,s,t])},q=(e=()=>{},s=60)=>{let t=null;return function(...r){clearTimeout(t),t=setTimeout(()=>e.apply(this,r),s)}},oe=(e,s=60)=>(0,o.useMemo)(()=>q(e,s),[s]),I=()=>{const e=(0,o.useRef)(!0);return e.current?(e.current=!1,!0):!1},N=(e,s=[])=>{const t=I();(0,o.useEffect)(()=>{if(!t)return e()},s)},ue=(e,s=450)=>{const[t,r]=(0,o.useState)(e);return N(()=>{let n;return e||s===0?r(e):n=setTimeout(()=>r(e),s),()=>n&&clearTimeout(n)},[e]),[t,r]},B=()=>![typeof window,typeof document].includes("undefined"),U=e=>S(e).indexOf("element")>-1,P=(e=null)=>B()?U(e)?{width:e.clientWidth,height:e.clientHeight}:{width:window.innerWidth??document.documentElement.clientWidth,height:window.innerHeight??document.documentElement.clientHeight}:{width:0,height:0},Y=(e,s)=>{const t=[],r=e.children??[];for(let n=0,u=r.length;n<u;n++){const i=r[n];i.className.indexOf(s)>-1&&t.push(i)}return t.length===0?null:t.length===1?t[0]:t},ie=(e,s)=>{getComputedStyle(e).position==="static"&&(e.style.position="relative");const t=document.createElement("object");return t.setAttribute("style","display:block;position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;opacity:0"),t.setAttribute("class","resize-sensor"),t.onload=()=>{t.contentDocument.defaultView.addEventListener("resize",s,!1),s()},t.type="text/html",e.appendChild(t),t.data="about:blank",t},ae=(e,s=60)=>{if(!B())return;e=z(e)?e.current:e??document.body;let t=Y(e,"resize-sensor"),r=[];const n=q(()=>r.map(c=>c(e)),s),u=c=>{Y(e,"resize-sensor")||(t=ie(e,n)),r.indexOf(c)===-1&&r.push(c)},i=c=>{const l=r.indexOf(c);l!==-1&&r.splice(l,1),r.length===0&&t&&a()},a=()=>{t&&t.parentNode&&(t.contentDocument&&t.contentDocument.defaultView.removeEventListener("resize",n,!1),t.parentNode.removeChild(t),t=void 0,r=[])};return{element:e,bind:u,unbind:i,destroy:a}},R=(e={})=>{const s=(0,o.useRef)(0),[t,r]=(0,o.useState)(e),n=(0,o.useCallback)(u=>{cancelAnimationFrame(s.current),s.current=requestAnimationFrame(()=>r(u))},[]);return(0,o.useEffect)(()=>()=>cancelAnimationFrame(s.current),[]),[t,n]},le=(e=null,s=60)=>{const t=z(e)?e.current:e,{bind:r,destroy:n}=ae(t,s),[u,i]=R(P(t));return(0,o.useEffect)(()=>(r(()=>t&&i(P(t))),()=>n()),[t]),u},fe=e=>{const s=(0,o.useRef)(null);return(0,o.useLayoutEffect)(()=>{s.current=e}),(0,o.useCallback)(s.current,[])},H=(e,s)=>{const t=(0,o.useRef)();(0,o.useEffect)(()=>{t.current=e},[e]),(0,o.useEffect)(()=>{if(s){const r=setInterval(()=>t.current(),s);return()=>clearInterval(r)}},[s])},_e=e=>{const s=(0,o.useRef)();return(0,o.useEffect)(()=>{s.current=e},[e]),s.current},Z=(e=null)=>B()?U(e)?{left:e.scrollLeft,top:e.scrollTop}:{left:window.pageXOffset??document.documentElement.scrollLeft??document.body.scrollLeft,top:window.pageYOffset??document.documentElement.scrollTop??document.body.scrollTop}:{left:0,top:0},pe=(e=null)=>{const[s,t]=R(Z(e));return(0,o.useEffect)(()=>{const r=()=>t(Z(e)),n=U(e)?e:window;return n.addEventListener("scroll",r,{capture:!1,passive:!0}),()=>n.removeEventListener("scroll",r)},[e]),s},j=e=>S(e)==="array",M=e=>j(e)&&!!e.length,de=(e,s,t=[],r=!1,n=null)=>M(e)?s?(t=typeof t=="string"?t.split(","):t,e.filter(u=>(t=t.length>0?t:Object.keys(u),t.filter(a=>{const c=u[a];if(c==null)return!1;if(r)return c===s;const l=new RegExp(s,"gi"),b=c.toString().match(l);return b&&n&&(u[a]=n(c.toString().replace(l,`<span style="background-color:yellow">${b[0]}</span>`),{display:"inline-block"})),b}).length))):e:[],me=(e,s="id")=>{if(!M(e))return e;const t=[],r=[];return e.map(n=>{const u=_(n)?n[s]:n;r.includes(u)||(r.push(u),t.push(n))}),t},be=e=>e?.$$typeof&&typeof e.$$typeof=="symbol"&&["react.transitional.element","react.element"].includes(e.$$typeof.description),we=e=>e?.__v_isVNode,Q=e=>{if(!j(e)&&!_(e))return e;const s=j(e)?[]:{};for(const t in e)if(D(e,t)){const r=e[t];s[t]=be(r)||we(r)||typeof r!="object"?r:r!==e?Q(r):"cyclic"}else Object.setPrototypeOf(s,{[t]:e[t]});return s},O=Q,he=e=>(s,t="children")=>{if(!Array.isArray(s))return s;const r=O(s),n=u=>{const i=[];return u.map(a=>{if(M(a[t])){const c=n(a[t])||[];a[t]=c,c.length>0&&i.push(a)}}),e(u,i)};return n(r)},Ee=(e,s,t="name",r=!1,n="id",u="children",i)=>he((a,c)=>me([...de(a,s,t,r,i),...c],n))(e,u);var ye=y(85);const Se=(e,s)=>(0,ye.jsx)("div",{dangerouslySetInnerHTML:{__html:e},...s}),ve=(e=null,s=Se)=>{const[t,r]=(0,o.useState)(e),n=(0,o.useCallback)((...u)=>{const[i,a,c,l,b,w]=u;if(!a)r(null);else{u=[i,a,c,l,b,w,s];const E=Ee(...u);r(E)}},[]);return[t,n]},ge=e=>{const[s,t]=(0,o.useState)(e);return(0,o.useEffect)(()=>t(e),[e]),[s,t]},ke=()=>{const e={};return{on:(n,u)=>{e[n]||(e[n]=[]),e[n].indexOf(u)===-1&&e[n].push(u)},emit:(n,u)=>{e[n]&&e[n].map(i=>i(u))},off:(n,u=null)=>{if(e[n]){if(typeof u!="function")return delete e[n];const i=e[n].indexOf(u);i>-1&&(e[n].splice(i,1),e[n].length||delete e[n])}}}},X=e=>{const s={};for(let t in e)D(e,t)||(s[t]=e[t]);return s},xe=(e,s)=>{if(!_(e))return s;if(!_(s))return e;const t={...X(e),...X(s)},r={...e,...s};return Object.keys(t).map(n=>{Object.setPrototypeOf(r,{[n]:t[n]})}),r},Ce=(()=>{const{on:e,emit:s,off:t}=ke(),r={};return{getState:c=>O(r[c]),setState:(c,l=!1)=>{if(typeof c=="function"&&(c=c(O(r))),!_(c))throw TypeError("\u5FC5\u987B\u4F20\u5165object\u5BF9\u8C61\uFF01");const b=O(c);Object.keys(b).map(w=>{const E=r[w],d=b[w],v=_(d)&&_(E)?xe(E,d):d;!l&&s(w,v),r[w]=v})},subscribe:(c,l)=>(e(c,l),()=>t(c,l)),unsubscribe:t,clean:c=>{typeof c=="string"?r[c]=void 0:Array.isArray(c)?c.map(l=>r[l]=void 0):Object.keys(r).map(l=>r[l]=void 0)}}})(),Fe=C(Ce),x=e=>e<10?"0"+e:e,Pe=(e=new Date)=>{const s=new Date(e),t=s.getFullYear(),r=s.getDay(),n=x(s.getMonth()+1),u=x(s.getDate()),i=x(s.getHours()),a=x(s.getMinutes()),c=x(s.getSeconds());return[t,n,u,i,a,c,r]},Re=["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],Qt=(e,s,t="-")=>e.replace(new RegExp(t,"g"),s),Oe=(e=new Date,s=["-","-"," ",":",":",""],t=Re)=>{const r=Pe(e);let n="";return s.map((u,i)=>n+=(i===6?t[r[i]]:r[i]??"")+u),n},Ae=()=>Oe(new Date,["-","-"," ",":",":"," ",""]),Te=()=>{const[e,s]=(0,o.useState)("");return H(()=>{s(Ae())},1e3),[e]},Le=e=>++e,De=()=>{const[,e]=(0,o.useState)(0);return(0,o.useCallback)(()=>e(Le),[])},ze=()=>{const[e,s]=R(P());return(0,o.useEffect)(()=>{const t=()=>s(P());return window.addEventListener("resize",t,!1),()=>window.removeEventListener("resize",t,!1)},[]),e}})();var je=f.g$,Me=f.Yb,$e=f.BT,Ve=f.hV,We=f.W3,qe=f.d7,Ie=f.Cy,Ne=f.OC,Ye=f._q,He=f._$,Ze=f.$$,Qe=f.ZC,Xe=f.p8,Ge=f.Ll,Je=f.SQ,Ke=f.ls,et=f.Pj,tt=f.z5,st=f.xS,nt=f.w5,rt=f.qx;export{je as createContainer,Me as useAsync,$e as useBase64,Ve as useCancelablePromise,We as useClickAway,qe as useDebounce,Ie as useDelayState,Ne as useEleResize,Ye as useEvent,He as useFirstMounted,Ze as useInterval,Qe as usePrevious,Xe as useRaf,Ge as useScroll,Je as useSearch,Ke as useStateFromProps,et as useStore,tt as useTime,st as useUpdate,nt as useUpdateEffect,rt as useWinResize};
